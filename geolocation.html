<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
     <main>
        <h2>GEOLOCATION FINDER</h2>
        <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d31108.785194026943!2d77.6011776!3d12.9335296!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sin!4v1750830899126!5m2!1sen!2sin"
         width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        <p>Latitude: <span id="lat" ></span></p>
         <p>Longitude: <span id="lon" ></span></p>
          <p>TimeStamp: <span id="timestamp" ></span></p>
          <div id="error"></div>
    </main>

    <script>
        window.onload = function(){
            if(navigator.geolocation){
                navigator.geolocation.getCurrentPosition(getPositions, showError);
            }else {
                console.log("Browser doesn't support Geolocation")                
            }
        }
        function getPositions(position){
            document.getElementById("lat").innerText= position.coords.latitude;
            document.getElementById("lon").innerText= position.coords.longitude;
            document.getElementById("timestamp").innerText=new Date(position.timestamp)
        }
        function showError(error){
            let msg="";
            switch(error.code){
                case error.PERMISSION_DENIED:
                    msg="User Denied Permission";
                    break;
                
                case error.UNKNOWN_ERROR:
                    msg="Unknown Error";
                    break;
            }
            displayError(msg)
        }

        function displayError(msg){
            document.getElementById("error").innerText=msg;
        }
    </script>
</body>
</html>